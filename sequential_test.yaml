name: Sequential Complex Test
description: Complex operations without deep nesting
path: /api/test/sequential
method: POST
parameters:
  - name: numbers
    param_type: body
    data_type: array
    required: true
logic:
  # Step 1: Math operations chain
  - !MathOp
    operation: sum
    args: [10, 20, 30, 40]
  
  - !Set
    var: sum_result
    value: "{{math_result}}"
  
  - !MathOp
    operation: multiply
    args: ["{{sum_result}}", 2]
  
  - !Set
    var: doubled
    value: "{{math_result}}"
  
  - !MathOp
    operation: divide
    args: ["{{doubled}}", 4]
  
  - !Set
    var: final_math
    value: "{{math_result}}"
  
  # Step 2: String operations chain
  - !StringOp
    operation: upper
    input: hello world
    args: []
  
  - !Set
    var: upper_text
    value: "{{string_result}}"
  
  - !StringOp
    operation: lower
    input: "{{upper_text}}"
    args: []
  
  - !Set
    var: lower_text
    value: "{{string_result}}"
  
  - !StringOp
    operation: concat
    input: "Result: "
    args: ["{{final_math}}"]
  
  - !Set
    var: message
    value: "{{string_result}}"
  
  # Step 3: Conditional check
  - !If
    condition: "{{final_math}} > 40"
    then:
      - !Set
        var: status
        value: success
      - !Set
        var: level
        value: high
    else:
      - !Set
        var: status
        value: failed
      - !Set
        var: level
        value: low
  
  # Step 4: More math based on condition
  - !MathOp
    operation: round
    args: ["{{final_math}}"]
  
  - !Set
    var: rounded
    value: "{{math_result}}"
  
  - !MathOp
    operation: abs
    args: [-50]
  
  - !Set
    var: absolute
    value: "{{math_result}}"
  
  # Step 5: Return everything
  - !Return
    value:
      operations_performed: 15
      sum_result: "{{sum_result}}"
      doubled: "{{doubled}}"
      final_math: "{{final_math}}"
      rounded: "{{rounded}}"
      absolute: "{{absolute}}"
      upper_text: "{{upper_text}}"
      lower_text: "{{lower_text}}"
      message: "{{message}}"
      status: "{{status}}"
      level: "{{level}}"
      test_passed: true

enabled: true
version: 1.0.0
